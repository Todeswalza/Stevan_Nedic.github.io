\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{gnuplottex}
\usepackage{fullpage}
\usepackage{tikz}
\usetikzlibrary{calc}
\usetikzlibrary{arrows}
\usepackage{pgfplots}

\pgfplotsset{compat=1.9}
\begin{document}

\begin{figure}
    \centering
    \begin{tikzpicture}
    
    \begin{axis}[name=plot,
                xmin=2017, xmax=2021,
                ymin=0,ymax=700,
                xlabel={Jahr},ylabel={Studenten}]
                \addplot table{./Data/Bachelor.txt};\label{Bachelor}
                \addplot table{./Data/Master.txt};\label{Master}
                \addplot table{./Data/Lehramt.txt};\label{Lehramt}
                

    \end{axis}
    \node[draw=black,fill=white](legend)at(plot.east) {\begin{tabular}{l l l}
        Bachelor & \ref{Bachelor}  \\
        Master & \ref{Master} \\
        Lehramt & \ref{Lehramt}
    \end{tabular}};
    
    \end{tikzpicture}}
    
    \caption{XY Plot}
\end{figure}

\begin{tikzpicture}
\begin{axis}[
legend image post style={scale=2},
x tick label style={
/pgf/number format/1000 sep=},
ylabel=Studenten,font
enlargelimits=0.05,
legend style={at={(0.5,-0.1)}, anchor=north, legend columns=-1},
ybar interval=0.7,
]
\addplot table{./Data/Bachelor.txt};\label{Bachelor}
\addplot table{./Data/Master.txt};\label{Master}
\addplot table{./Data/Lehramt.txt};\label{Lehramt}

\legend{Bachelor,Master,Lehramt}
\end{axis}
\caption{Bar Graph}
\end{tikzpicture}




\end{document}
